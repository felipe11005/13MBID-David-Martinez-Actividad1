schema: '2.0'
stages:
  visualize_data:
    cmd: python3 src/data_visualizer.py
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    outs:
    - path: docs/figures/correlation_matrix.png
      hash: md5
      md5: 369fd241c9266666c312cf5da43883be
      size: 109264
    - path: docs/figures/education_distribution.png
      hash: md5
      md5: 7328f051516b1ca0fba4f5c87150389c
      size: 20327
    - path: docs/figures/job_distribution.png
      hash: md5
      md5: f88d88947303bb257cb463df5dee0710
      size: 23163
    - path: docs/figures/success_rate_by_contact_and_month.png
      hash: md5
      md5: 4f943450b54bfc3af3d758a2a35241cc
      size: 32518
    - path: docs/figures/success_rate_by_education_and_job.png
      hash: md5
      md5: 6e59485512c4b937a7ef4ce1a6b7c722
      size: 78749
    - path: docs/figures/success_rate_by_job.png
      hash: md5
      md5: 5d8b682a83baae1bcbb61b34972182a0
      size: 39376
    - path: docs/figures/target_distribution.png
      hash: md5
      md5: 6db14328b0c96538131618b3bbdd143a
      size: 24052
  test_data_quality:
    cmd: pytest --html=docs/test_results/test_results.html --self-contained-html
      test/test_data_quality.py
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    - path: test/test_data_quality.py
      hash: md5
      md5: 1540acdd8271af966570f3b49eb5b932
      size: 3426
    outs:
    - path: docs/test_results/test_results.html
      hash: md5
      md5: 30cac5d0d307ab6414191076d2d7a985
      size: 33280
  test_data_gx:
    cmd: pytest --html=docs/test_results/test_results_gx.html 
      --self-contained-html test/test_data_gx.py
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    - path: test/test_data_gx.py
      hash: md5
      md5: a7a26b43323af3819ac427982778ca10
      size: 2493
    outs:
    - path: docs/test_results/test_results_gx.html
      hash: md5
      md5: 0fe0e49a5e0d4fb1f2b1c0b9934fa550
      size: 32019
  preprocess_data:
    cmd: python src/data_preprocess.py
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    - path: src/data_preprocess.py
      hash: md5
      md5: cdeed1f2d51ac33bb88f6de1f01a8e71
      size: 2356
    outs:
    - path: data/processed/bank-processed.csv
      hash: md5
      md5: 316cceae6335513c42fb2885fb8353b9
      size: 4454589
  test_preprocessed_data:
    cmd: pytest --html=docs/test_results/test_results_preprocessed_data.html 
      --self-contained-html test/test_preprocessed_data.py
    deps:
    - path: data/processed/bank-processed.csv
      hash: md5
      md5: 316cceae6335513c42fb2885fb8353b9
      size: 4454589
    - path: test/test_preprocessed_data.py
      hash: md5
      md5: 9c3895e4895f31247b19c10931f6268c
      size: 557
    outs:
    - path: docs/test_results/test_results_preprocessed_data.html
      hash: md5
      md5: 3562760f394e3429ede2b6828f8afc3f
      size: 32086
  train_model:
    cmd: python src/model_trainer.py
    deps:
    - path: data/processed/bank-processed.csv
      hash: md5
      md5: 316cceae6335513c42fb2885fb8353b9
      size: 4454589
    - path: src/model_trainer.py
      hash: md5
      md5: d424f7022aa904a0b5ed21e6a7d91958
      size: 9595
    outs:
    - path: metrics/model_metrics.json
      hash: md5
      md5: c5a6ff8c3f9b4475b5686450bfc7963a
      size: 156
    - path: models/decision_tree_model.pkl
      hash: md5
      md5: 69a613c31dfcf7b92e0000ca6bf60a3d
      size: 218985
    - path: models/preprocessor.pkl
      hash: md5
      md5: 74ce1068c2daca72f2e998926c8af2ee
      size: 6488
